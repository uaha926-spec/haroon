<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Message For You</title>
    <style>
        /* --- ðŸŽ¨ NEW "WHISPERING COSMOS" THEME & FONTS --- */
        @import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Lato:wght@300;400&display=swap');

        :root {
            --bg-deep-indigo: #0f0c29;
            --bg-mid-purple: #302b63;
            --bg-dark-teal: #24243e;
            --accent-glow: #e2d1ff;
            --text-soft: #dcd6f7;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            padding: 0;
            margin: 0;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: linear-gradient(to top, var(--bg-deep-indigo), var(--bg-mid-purple), var(--bg-dark-teal));
            font-family: 'Lato', sans-serif; /* New Clean UI Font */
            color: var(--text-soft);
            transition: opacity 2.5s ease-in-out;
        }

        body.is-exiting {
            opacity: 0;
        }

        /* --- ðŸŒƒ NEW "FANTASY" BACKGROUND --- */
        .fantasy-background {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1;
            overflow: hidden;
        }
        .stars-canvas { position: absolute; width: 100%; height: 100%; }
        .star { 
            position: absolute; background-color: var(--accent-glow); 
            border-radius: 50%; 
            animation: twinkle-glow 12s infinite ease-in-out;
        }
        @keyframes twinkle-glow {
            0%, 100% { opacity: 0.1; box-shadow: 0 0 5px var(--accent-glow); }
            50% { opacity: 0.8; box-shadow: 0 0 15px var(--accent-glow); }
        }
        
        .moon { 
            position: absolute; top: 15%; right: 15%; width: 60px; height: 60px; 
            border-radius: 50%;
            background-color: #fffde7;
            box-shadow: 0 0 25px #fffde7, 0 0 50px #fffde7;
            animation: moon-pulse 6s infinite ease-in-out;
        }
        @keyframes moon-pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        
        .ethereal-rainbow {
            position: absolute;
            bottom: 5vh; left: 50%;
            width: 90vw; height: 45vw; /* 2:1 aspect ratio */
            max-width: 1200px; max-height: 600px;
            transform: translateX(-50%);
            border-radius: 50% 50% 0 0;
            background: conic-gradient(from 0.5turn at 50% 100%, red, orange, yellow, green, blue, indigo, violet, transparent);
            opacity: 0;
            animation: rainbow-fade 20s infinite ease-in-out;
        }
        @keyframes rainbow-fade { 0%, 100% { opacity: 0; } 50% { opacity: 0.15; } }

        /* --- ðŸ“„ NEW PAGE CONTAINER & "REVEAL" TRANSITION --- */
        .page-view { 
            width: 100%; height: 100vh; display: flex; flex-direction: column; 
            justify-content: center; align-items: center; padding: 20px; 
            position: absolute; top: 0; left: 0; z-index: 5;
            opacity: 0; visibility: hidden;
            clip-path: circle(0% at 50% 50%);
            transition: opacity 1.5s ease-out, clip-path 1.5s ease-out;
        }
        .page-view.is-visible { 
            opacity: 1; visibility: visible; 
            clip-path: circle(75% at 50% 50%);
        }
        
        /* --- ðŸ’Œ PAGE 1: LANDING SCREEN --- */
        .fantasy-title { 
            font-family: 'Caveat Brush', cursive; /* New Painted Font */
            font-size: 3.2rem;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5); 
            margin-bottom: 40px;
        }
        
        /* --- NEW "GLASS" BUTTON STYLE --- */
        .glass-button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(220, 214, 247, 0.3);
            backdrop-filter: blur(8px);
            color: var(--text-soft); 
            padding: 14px 40px; font-size: 1.1rem; letter-spacing: 1px;
            border-radius: 50px; cursor: pointer; 
            transition: all 0.4s ease;
        }
        .glass-button:hover { 
            border-color: var(--accent-glow);
            box-shadow: 0 0 20px rgba(226, 209, 255, 0.5);
            transform: translateY(-3px);
        }

        .instagram-credit {
            position: absolute; bottom: 20px;
            font-size: 0.9rem; font-weight: 300;
            opacity: 0.7; z-index: 10;
        }

        /* --- ðŸ¤” PAGE 2: CONFIRMATION --- */
        .confirmation-question { 
            font-size: 2.2rem;
            margin-bottom: 40px; text-align: center;
        }
        
        /* --- ðŸŽ¶ PAGE 3: NEW "DRIFTING" LYRICS --- */
        #lyric-container { 
            font-family: 'Caveat Brush', cursive;
            font-size: 3rem; /* Smaller as requested */
            height: 150px;
            display: flex; align-items: center; justify-content: center;
        }
        .lyric-line {
            position: absolute;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1.5s ease-out, transform 1.5s ease-out;
        }
        .lyric-line.is-showing {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- ðŸ˜˜ FINAL KISS SCREEN --- */
        #final-curtain {
            position: fixed; inset: 0; z-index: 100;
            display: none; justify-content: center; align-items: center;
            opacity: 0;
            animation: show-final-kiss 2s forwards;
        }
        #kiss-emoji-final { 
            font-size: 140px; 
            text-shadow: 0 0 30px #ff7aab;
        }
        @keyframes show-final-kiss { to { opacity: 1; } }

        /* --- ðŸ“± RESPONSIVE DESIGN --- */
        @media (max-width: 600px) {
            .fantasy-title { font-size: 2.8rem; }
            .confirmation-question { font-size: 1.8rem; }
            #lyric-container { font-size: 2.4rem; }
            #kiss-emoji-final { font-size: 100px; }
        }
    </style>
</head>
<body>

    <div class="fantasy-background">
        <div class="stars-canvas" id="stars-canvas"></div>
        <div class="moon"></div>
        <div class="ethereal-rainbow"></div>
    </div>

    <main class="main-content">
        <!-- ðŸŸ£ PAGE 1 â€” LANDING SCREEN -->
        <section id="page-landing" class="page-view is-visible">
            <h1 class="fantasy-title">This is only for you..</h1>
            <button id="btn-next" class="glass-button">OK</button>
            <p class="instagram-credit">@ih4roon</p>
        </section>

        <!-- ðŸŸ¡ PAGE 2 â€” CONFIRMATION SCREEN -->
        <section id="page-confirm" class="page-view">
            <h2 class="confirmation-question">Are you sure you want to see?</h2>
            <button id="btn-confirm" class="glass-button">YES</button>
        </section>

        <!-- ðŸŸ¢ PAGE 3 â€” LYRICS SCREEN -->
        <section id="page-lyrics" class="page-view">
            <div id="lyric-container"></div>
        </section>
    </main>
    
    <!-- ðŸ˜˜ FINAL KISS SCREEN -->
    <div id="final-curtain">
        <span id="kiss-emoji-final">ðŸ˜˜</span>
    </div>

    <audio id="song-player" src="./haroon.mp3" preload="auto"></audio>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- DOM Elements ---
            const pageLanding = document.getElementById('page-landing');
            const pageConfirm = document.getElementById('page-confirm');
            const pageLyrics = document.getElementById('page-lyrics');
            const btnNext = document.getElementById('btn-next');
            const btnConfirm = document.getElementById('btn-confirm');
            const songPlayer = document.getElementById('song-player');
            const lyricContainer = document.getElementById('lyric-container');
            const finalCurtain = document.getElementById('final-curtain');
            const starsCanvas = document.getElementById('stars-canvas');

            // --- LYRICS DATA (Timing is perfect as per user) ---
            const lyrics = [
                { time: 2000, text: "Hathon ke tere apne", duration: 3000 },
                { time: 5000, text: "Hathon me le leta hu", duration: 2500 },
                { time: 7500, text: "ke taqderein", duration: 2000 },
                { time: 9500, text: "Apni sari parh Lo", duration: 3000 }
            ];

            // --- Page Navigation ---
            btnNext.addEventListener('click', () => {
                pageLanding.classList.remove('is-visible');
                pageConfirm.classList.add('is-visible');
            });

            btnConfirm.addEventListener('click', () => {
                pageConfirm.classList.remove('is-visible');
                pageLyrics.classList.add('is-visible');
                startExperience();
            });

            // --- Main Experience Logic ---
            function startExperience() {
                songPlayer.play().catch(e => console.error("Audio could not play:", e));
                lyrics.forEach(line => {
                    setTimeout(() => displayLyric(line.text, line.duration), line.time);
                });
            }

            // --- Lyric Display Function ---
            function displayLyric(text, duration) {
                const lyricEl = document.createElement('p');
                lyricEl.className = 'lyric-line';
                lyricEl.textContent = text;
                
                lyricContainer.innerHTML = ''; // Clear previous
                lyricContainer.appendChild(lyricEl);

                // Use a short delay to trigger the CSS transition
                setTimeout(() => lyricEl.classList.add('is-showing'), 50);
                
                // Hide the lyric before the next one
                setTimeout(() => lyricEl.classList.remove('is-showing'), duration - 500);
            }
            
            // --- Exit Sequence ---
            songPlayer.addEventListener('ended', () => {
                lyricContainer.innerHTML = '';
                finalCurtain.style.display = 'flex';

                setTimeout(() => {
                    document.body.classList.add('is-exiting');
                }, 2000);
            });

            // --- Dynamic Star Generation ---
            function createStars() {
                for (let i = 0; i < 150; i++) {
                    const star = document.createElement('div');
                    const size = Math.random() * 2.5 + 1;
                    star.className = 'star';
                    star.style.width = `${size}px`;
                    star.style.height = `${size}px`;
                    star.style.top = `${Math.random() * 100}%`;
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.animationDelay = `${Math.random() * 12}s`;
                    star.style.animationDuration = `${Math.random() * 8 + 8}s`;
                    starsCanvas.appendChild(star);
                }
            }
            createStars();
        });
    </script>
</body>
</html>
